<div align="center">
  
# â˜ï¸ æœ¬åœ°éƒ¨å±¬

</div>

æˆ‘ä¾†å¹«ä½ å¾é›¶é–‹å§‹éƒ¨ç½² Dify åˆ°æœ¬åœ°é›»è…¦ä¸Šã€‚Dify æä¾›äº†å…©ç¨®ä¸»è¦çš„éƒ¨ç½²æ–¹å¼ï¼Œæˆ‘æœƒè©³ç´°èªªæ˜æœ€ç°¡å–®çš„ Docker Compose æ–¹æ³•ã€‚

## ğŸ“‹ å‰ç½®æº–å‚™

### ç³»çµ±éœ€æ±‚
- **ä½œæ¥­ç³»çµ±**: Windows 10+ã€macOSã€Linux
- **è¨˜æ†¶é«”**: å»ºè­°è‡³å°‘ 8GB RAM
- **ç¡¬ç¢Ÿç©ºé–“**: è‡³å°‘ 10GB å¯ç”¨ç©ºé–“
- **CPU**: å»ºè­° 2 æ ¸å¿ƒä»¥ä¸Š

## ğŸ”§ Step 1: å®‰è£å¿…è¦è»Ÿé«”

### 1.1 å®‰è£ Docker Desktop

æ ¹æ“šä½ çš„ä½œæ¥­ç³»çµ±ä¸‹è¼‰å®‰è£ï¼š

**Windows/Mac:**
- å‰å¾€ [Docker Desktop å®˜ç¶²](https://www.docker.com/products/docker-desktop/)
  - ä¸‹è¼‰ `AMD64` ç‰ˆæœ¬
- ä¸‹è¼‰å°æ‡‰ç‰ˆæœ¬ä¸¦å®‰è£
- å®‰è£å®Œæˆå¾Œå•Ÿå‹• Docker Desktop

**Linux:**
```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install docker.io docker-compose

# CentOS/RHEL
sudo yum install docker docker-compose
```

### 1.2 å®‰è£ Gitï¼ˆå¦‚æœé‚„æ²’æœ‰ï¼‰

- Windows: ä¸‹è¼‰ [Git for Windows](https://git-scm.com/download/win)
- Mac: `brew install git` æˆ–å¾å®˜ç¶²ä¸‹è¼‰
- Linux: `sudo apt-get install git`

## ğŸ“¦ Step 2: ä¸‹è¼‰ Dify

æ‰“é–‹çµ‚ç«¯æ©Ÿ/å‘½ä»¤æç¤ºå­—å…ƒï¼ŒåŸ·è¡Œï¼š

```bash
# è¤‡è£½ Dify å°ˆæ¡ˆ
git clone https://github.com/langgenius/dify.git

# é€²å…¥ dify ç›®éŒ„
cd dify
```

## âš™ï¸ Step 3: é…ç½®ç’°å¢ƒè®Šæ•¸

```bash
# é€²å…¥ docker ç›®éŒ„
cd docker

# è¤‡è£½ç’°å¢ƒè®Šæ•¸ç¯„æœ¬
copy .env.example .env
```

## ğŸš€ Step 4: å•Ÿå‹• Dify

```bash
# ä½¿ç”¨ Docker Compose å•Ÿå‹•æ‰€æœ‰æœå‹™
docker compose up -d
```

é€™å€‹å‘½ä»¤æœƒè‡ªå‹•ï¼š
- ä¸‹è¼‰æ‰€éœ€çš„ Docker æ˜ åƒ
- å»ºç«‹ä¸¦å•Ÿå‹•æ‰€æœ‰å®¹å™¨
- è¨­å®šè³‡æ–™åº«ã€Redis ç­‰æœå‹™

â³ **æ³¨æ„**: ç¬¬ä¸€æ¬¡åŸ·è¡Œéœ€è¦ä¸‹è¼‰è¼ƒå¤šæª”æ¡ˆï¼Œå¯èƒ½éœ€è¦ 10-20 åˆ†é˜

## âœ… Step 5: æª¢æŸ¥å®‰è£ç‹€æ…‹

```bash
# æŸ¥çœ‹å®¹å™¨é‹è¡Œç‹€æ…‹
docker compose ps
```

### âœ… æœå‹™ç‹€æ…‹è§£è®€

| æœå‹™åç¨± | ç‹€æ…‹ | èªªæ˜ |
|---------|------|------|
| **api** | âœ… Up 2 minutes | å¾Œç«¯ API æœå‹™é‹è¡Œä¸­ |
| **web** | âœ… Up 3 minutes | å‰ç«¯ç¶²é ä»‹é¢é‹è¡Œä¸­ |
| **db** | âœ… Up 3 minutes (healthy) | PostgreSQL è³‡æ–™åº«æ­£å¸¸ |
| **redis** | âœ… Up 3 minutes (healthy) | å¿«å–æœå‹™æ­£å¸¸ |
| **nginx** | âœ… Up 2 minutes | åå‘ä»£ç†æœå‹™å™¨é‹è¡Œä¸­ |
| **worker** | âœ… Up 2 minutes | èƒŒæ™¯ä»»å‹™è™•ç†å™¨é‹è¡Œä¸­ |
| **weaviate** | âœ… Up 3 minutes | å‘é‡è³‡æ–™åº«é‹è¡Œä¸­ |
| **sandbox** | âœ… Up 3 minutes (healthy) | ä»£ç¢¼åŸ·è¡Œæ²™ç›’ç’°å¢ƒæ­£å¸¸ |

## ğŸŒ Step 6: è¨ªå• Dify

### æ‰“é–‹ç€è¦½å™¨ï¼Œè¨ªå•ï¼š
```
http://localhost
```
æˆ–
```
http://127.0.0.1
```
æˆ–
```
å‰ç«¯ä»‹é¢: http://localhost:3000
API æ–‡æª”: http://localhost:5001
```

### åˆæ¬¡è¨­å®š
1. ç¬¬ä¸€æ¬¡è¨ªå•æœƒè¦æ±‚å‰µå»ºç®¡ç†å“¡å¸³è™Ÿ
2. è¨­å®šä½ çš„ email å’Œå¯†ç¢¼
3. ç™»å…¥å¾Œå³å¯é–‹å§‹ä½¿ç”¨

## ğŸ› ï¸ å¸¸ç”¨ç®¡ç†å‘½ä»¤

```bash
# åœæ­¢æ‰€æœ‰æœå‹™
docker compose stop

# å®Œå…¨é—œé–‰ä¸¦ç§»é™¤å®¹å™¨ï¼ˆè³‡æ–™æœƒä¿ç•™ï¼‰
docker compose down

# é‡æ–°å•Ÿå‹•æœå‹™
docker compose restart

# æŸ¥çœ‹æ—¥èªŒ
docker compose logs -f

# æ›´æ–° Dify åˆ°æœ€æ–°ç‰ˆæœ¬
git pull
docker compose down
docker compose pull
docker compose up -d

# æŸ¥çœ‹è©³ç´°æ—¥èªŒ
docker compose logs nginx
docker compose logs web

# ç³»çµ±è³‡æºä½¿ç”¨
docker stats
```

## âš ï¸ å¸¸è¦‹å•é¡Œè§£æ±º

### 1. Docker æœªå•Ÿå‹•
ç¢ºä¿ Docker Desktop å·²ç¶“åœ¨é‹è¡Œ

### 2. ç«¯å£è¢«ä½”ç”¨
å¦‚æœ 3000 æˆ– 5001 ç«¯å£å·²è¢«ä½¿ç”¨ï¼Œä¿®æ”¹ `.env` æª”æ¡ˆï¼š
```env
# ä¿®æ”¹ç«¯å£
EXPOSE_NGINX_PORT=3001
EXPOSE_API_PORT=5002
```

### 3. è¨˜æ†¶é«”ä¸è¶³
èª¿æ•´ Docker Desktop çš„è³‡æºé™åˆ¶ï¼š
- è¨­å®š â†’ Resources â†’ å¢åŠ  Memory é…ç½®

